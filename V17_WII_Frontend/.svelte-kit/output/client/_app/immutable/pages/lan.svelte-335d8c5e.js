import{S as Ie,i as Je,s as Le,x as Y,y as Z,z as Q,f as z,t as K,C as W,o as Oe,a as C,c as I,b as U,h as s,a9 as se,l as p,m as u,n as g,p as i,I as l,r as q,u as F,g as Ae,d as He,e as ke,ab as G,J as ne,K as Ne,Y as ie,Z as ce,F as ye,a3 as Ve,a4 as Be,a5 as Re,v as me}from"../chunks/index-1ab591d7.js";import{s as Me}from"../chunks/Indicator.svelte_svelte_type_style_lang-28f07d2f.js";import{B as Ce}from"../chunks/Button-fa4fdcb7.js";import{T as Ue}from"../chunks/Toggle-c8624ec4.js";import{T as ve}from"../chunks/TabItem-e3e9e853.js";import{T as xe}from"../chunks/Tabs-c930f01e.js";import{b2 as we,L as Se,k as $e,aJ as ae}from"../chunks/configG-d8cbd39c.js";import"../chunks/index-6fbc3f26.js";import"../chunks/Radio-87b36ed2.js";function Ee(c){let e,t=c[0].config.networking_lan.ipMode==0&&Te(c);return{c(){t&&t.c(),e=ke()},l(r){t&&t.l(r),e=ke()},m(r,n){t&&t.m(r,n),U(r,e,n)},p(r,n){r[0].config.networking_lan.ipMode==0?t?t.p(r,n):(t=Te(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){t&&t.d(r),r&&s(e)}}}function Te(c){let e,t,r,n,a,o,d,m,f,T,h,k,_,w,H;return{c(){e=p("tr"),t=p("td"),r=p("p"),n=q("IP Address"),a=p("td"),o=p("input"),d=C(),m=p("tr"),f=p("td"),T=p("p"),h=q("Network Mask"),k=p("td"),_=p("input"),this.h()},l(S){e=u(S,"TR",{});var J=g(e);t=u(J,"TD",{});var N=g(t);r=u(N,"P",{class:!0});var x=g(r);n=F(x,"IP Address"),x.forEach(s),N.forEach(s),a=u(J,"TD",{class:!0});var V=g(a);o=u(V,"INPUT",{type:!0,class:!0}),V.forEach(s),J.forEach(s),d=I(S),m=u(S,"TR",{});var M=g(m);f=u(M,"TD",{});var B=g(f);T=u(B,"P",{class:!0});var j=g(T);h=F(j,"Network Mask"),j.forEach(s),B.forEach(s),k=u(M,"TD",{class:!0});var R=g(k);_=u(R,"INPUT",{type:!0,class:!0}),R.forEach(s),M.forEach(s),this.h()},h(){i(r,"class","pl-40 pt-4 text-lg font-light text-right"),i(o,"type","text"),i(o,"class","bg-blue-50 border border-blue-500 text-blue-900 dark:text-green-400 placeholder-green-700 dark:placeholder-green-500 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-green-500"),i(a,"class","pl-5 pt-5"),i(T,"class","pl-40 pt-4 text-lg font-light text-right"),i(_,"type","text"),i(_,"class","bg-blue-50 border border-blue-500 text-blue-900 dark:text-green-400 placeholder-green-700 dark:placeholder-green-500 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-green-500"),i(k,"class","pl-5 pt-5")},m(S,J){U(S,e,J),l(e,t),l(t,r),l(r,n),l(e,a),l(a,o),G(o,c[0].config.networking_lan.ipStatic.ip),U(S,d,J),U(S,m,J),l(m,f),l(f,T),l(T,h),l(m,k),l(k,_),G(_,c[0].config.networking_lan.ipStatic.netmask),w||(H=[ne(o,"input",c[8]),ne(_,"input",c[9])],w=!0)},p(S,J){J&1&&o.value!==S[0].config.networking_lan.ipStatic.ip&&G(o,S[0].config.networking_lan.ipStatic.ip),J&1&&_.value!==S[0].config.networking_lan.ipStatic.netmask&&G(_,S[0].config.networking_lan.ipStatic.netmask)},d(S){S&&s(e),S&&s(d),S&&s(m),w=!1,Ne(H)}}}function je(c){let e,t,r;return{c(){e=ie("svg"),t=ie("path"),r=q("Save"),this.h()},l(n){e=ce(n,"svg",{class:!0,fill:!0,stroke:!0,"stroke-width":!0,viewBox:!0,xmlns:!0});var a=g(e);t=ce(a,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),g(t).forEach(s),a.forEach(s),r=F(n,"Save"),this.h()},h(){i(t,"d","M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"),i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(e,"class","mr-2 -ml-1 w-6 h-6"),i(e,"fill","none"),i(e,"stroke","currentColor"),i(e,"stroke-width","2"),i(e,"viewBox","0 0 24 24"),i(e,"xmlns","http://www.w3.org/2000/svg")},m(n,a){U(n,e,a),l(e,t),U(n,r,a)},p:ye,d(n){n&&s(e),n&&s(r)}}}function qe(c){let e,t,r,n,a,o,d,m,f,T,h=c[1]==1&&Ee(c);return f=new Ce({props:{color:"blue",pill:!0,$$slots:{default:[je]},$$scope:{ctx:c}}}),f.$on("click",c[5]),{c(){e=p("table"),h&&h.c(),t=C(),r=p("tr"),n=p("td"),a=C(),o=p("td"),d=C(),m=p("td"),Y(f.$$.fragment),this.h()},l(k){e=u(k,"TABLE",{});var _=g(e);h&&h.l(_),t=I(_),r=u(_,"TR",{});var w=g(r);n=u(w,"TD",{}),g(n).forEach(s),a=I(w),o=u(w,"TD",{}),g(o).forEach(s),d=I(w),m=u(w,"TD",{class:!0});var H=g(m);Z(f.$$.fragment,H),H.forEach(s),w.forEach(s),_.forEach(s),this.h()},h(){i(m,"class","pl-10")},m(k,_){U(k,e,_),h&&h.m(e,null),l(e,t),l(e,r),l(r,n),l(r,a),l(r,o),l(r,d),l(r,m),Q(f,m,null),T=!0},p(k,_){k[1]==1?h?h.p(k,_):(h=Ee(k),h.c(),h.m(e,t)):h&&(h.d(1),h=null);const w={};_&4194304&&(w.$$scope={dirty:_,ctx:k}),f.$set(w)},i(k){T||(z(f.$$.fragment,k),T=!0)},o(k){K(f.$$.fragment,k),T=!1},d(k){k&&s(e),h&&h.d(),W(f)}}}function Pe(c){let e,t,r;function n(o){c[10](o)}let a={};return c[0].config.networking_lan.dhcpServer.enable!==void 0&&(a.checked=c[0].config.networking_lan.dhcpServer.enable),e=new Ue({props:a}),Ve.push(()=>Be(e,"checked",n,c[0].config.networking_lan.dhcpServer.enable)),e.$on("change",c[7]),{c(){Y(e.$$.fragment)},l(o){Z(e.$$.fragment,o)},m(o,d){Q(e,o,d),r=!0},p(o,d){const m={};!t&&d&1&&(t=!0,m.checked=o[0].config.networking_lan.dhcpServer.enable,Re(()=>t=!1)),e.$set(m)},i(o){r||(z(e.$$.fragment,o),r=!0)},o(o){K(e.$$.fragment,o),r=!1},d(o){W(e,o)}}}function De(c){let e,t,r,n,a,o,d,m,f,T,h,k,_,w,H,S,J,N,x,V,M,B,j,R,b,P,A,D,$,L,O;return{c(){e=p("tr"),t=p("td"),r=p("p"),n=q("DHCP IP Pool"),a=C(),o=p("td"),d=p("div"),m=p("p"),f=q(c[2]),T=C(),h=p("input"),k=C(),_=p("p"),w=q("- "),H=p("p"),S=q(c[2]),J=C(),N=p("input"),x=C(),V=p("tr"),M=p("td"),B=p("p"),j=q("Lease"),R=p("td"),b=p("div"),P=p("input"),A=C(),D=p("p"),$=q("hr"),this.h()},l(v){e=u(v,"TR",{});var y=g(e);t=u(y,"TD",{});var X=g(t);r=u(X,"P",{class:!0});var ee=g(r);n=F(ee,"DHCP IP Pool"),ee.forEach(s),X.forEach(s),a=I(y),o=u(y,"TD",{class:!0});var te=g(o);d=u(te,"DIV",{class:!0});var E=g(d);m=u(E,"P",{class:!0});var re=g(m);f=F(re,c[2]),re.forEach(s),T=I(E),h=u(E,"INPUT",{type:!0,class:!0,min:!0,max:!0}),k=I(E),_=u(E,"P",{class:!0});var ue=g(_);w=F(ue,"- "),ue.forEach(s),H=u(E,"P",{class:!0});var ge=g(H);S=F(ge,c[2]),ge.forEach(s),J=I(E),N=u(E,"INPUT",{type:!0,class:!0,min:!0,max:!0}),E.forEach(s),te.forEach(s),y.forEach(s),x=I(v),V=u(v,"TR",{});var fe=g(V);M=u(fe,"TD",{});var de=g(M);B=u(de,"P",{class:!0});var he=g(B);j=F(he,"Lease"),he.forEach(s),de.forEach(s),R=u(fe,"TD",{class:!0});var _e=g(R);b=u(_e,"DIV",{class:!0});var le=g(b);P=u(le,"INPUT",{type:!0,class:!0}),A=I(le),D=u(le,"P",{class:!0});var be=g(D);$=F(be,"hr"),be.forEach(s),le.forEach(s),_e.forEach(s),fe.forEach(s),this.h()},h(){i(r,"class","pl-20 pt-4 text-lg font-light text-right"),i(m,"class","pl-1 pt-2"),i(h,"type","number"),i(h,"class","bg-blue-50 border border-blue-500 text-blue-900 dark:text-green-400 placeholder-green-700 dark:placeholder-green-500 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-16 p-2.5 dark:bg-gray-700 dark:border-green-500"),i(h,"min","1"),i(h,"max","255"),i(_,"class","pl-1 pt-2"),i(H,"class","pl-1 pt-2"),i(N,"type","number"),i(N,"class","bg-blue-50 border border-blue-500 text-blue-900 dark:text-green-400 placeholder-green-700 dark:placeholder-green-500 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-16 p-2.5 dark:bg-gray-700 dark:border-green-500"),i(N,"min","1"),i(N,"max","255"),i(d,"class","flex gap-1"),i(o,"class","pl-5 pt-5"),i(B,"class","pl-20 pt-4 text-lg font-light text-right"),i(P,"type","text"),i(P,"class","bg-blue-50 border border-blue-500 text-blue-900 dark:text-green-400 placeholder-green-700 dark:placeholder-green-500 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-16 p-2.5 dark:bg-gray-700 dark:border-green-500"),i(D,"class","pl-1 pt-2"),i(b,"class","flex gap-1"),i(R,"class","pl-5 pt-5")},m(v,y){U(v,e,y),l(e,t),l(t,r),l(r,n),l(e,a),l(e,o),l(o,d),l(d,m),l(m,f),l(d,T),l(d,h),G(h,c[3]),l(d,k),l(d,_),l(_,w),l(d,H),l(H,S),l(d,J),l(d,N),G(N,c[4]),U(v,x,y),U(v,V,y),l(V,M),l(M,B),l(B,j),l(V,R),l(R,b),l(b,P),G(P,c[0].config.networking_lan.dhcpServer.lease),l(b,A),l(b,D),l(D,$),L||(O=[ne(h,"input",c[11]),ne(N,"input",c[12]),ne(P,"input",c[13])],L=!0)},p(v,y){y&4&&me(f,v[2]),y&8&&se(h.value)!==v[3]&&G(h,v[3]),y&4&&me(S,v[2]),y&16&&se(N.value)!==v[4]&&G(N,v[4]),y&1&&P.value!==v[0].config.networking_lan.dhcpServer.lease&&G(P,v[0].config.networking_lan.dhcpServer.lease)},d(v){v&&s(e),v&&s(x),v&&s(V),L=!1,Ne(O)}}}function Fe(c){let e,t,r;return{c(){e=ie("svg"),t=ie("path"),r=q("Save"),this.h()},l(n){e=ce(n,"svg",{class:!0,fill:!0,stroke:!0,"stroke-width":!0,viewBox:!0,xmlns:!0});var a=g(e);t=ce(a,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),g(t).forEach(s),a.forEach(s),r=F(n,"Save"),this.h()},h(){i(t,"d","M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"),i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(e,"class","mr-2 -ml-1 w-6 h-6"),i(e,"fill","none"),i(e,"stroke","currentColor"),i(e,"stroke-width","2"),i(e,"viewBox","0 0 24 24"),i(e,"xmlns","http://www.w3.org/2000/svg")},m(n,a){U(n,e,a),l(e,t),U(n,r,a)},p:ye,d(n){n&&s(e),n&&s(r)}}}function Ge(c){let e,t,r,n,a,o,d,m,f,T,h,k,_,w,H,S,J,N,x,V,M,B,j,R,b,P,A,D,$=c[1]==1&&Pe(c),L=c[0].config.networking_lan.dhcpServer.enable&&De(c);return A=new Ce({props:{color:"blue",pill:!0,$$slots:{default:[Fe]},$$scope:{ctx:c}}}),A.$on("click",c[6]),{c(){e=p("table"),t=p("tr"),r=p("td"),n=p("p"),a=q("DHCP Server"),o=p("td"),$&&$.c(),d=C(),L&&L.c(),m=C(),f=p("tr"),T=p("td"),h=C(),k=p("td"),_=C(),w=p("td"),H=C(),S=p("td"),J=C(),N=p("td"),x=C(),V=p("td"),M=C(),B=p("td"),j=C(),R=p("td"),b=C(),P=p("td"),Y(A.$$.fragment),this.h()},l(O){e=u(O,"TABLE",{});var v=g(e);t=u(v,"TR",{});var y=g(t);r=u(y,"TD",{class:!0});var X=g(r);n=u(X,"P",{class:!0});var ee=g(n);a=F(ee,"DHCP Server"),ee.forEach(s),X.forEach(s),o=u(y,"TD",{class:!0});var te=g(o);$&&$.l(te),te.forEach(s),y.forEach(s),d=I(v),L&&L.l(v),m=I(v),f=u(v,"TR",{});var E=g(f);T=u(E,"TD",{}),g(T).forEach(s),h=I(E),k=u(E,"TD",{}),g(k).forEach(s),_=I(E),w=u(E,"TD",{}),g(w).forEach(s),H=I(E),S=u(E,"TD",{}),g(S).forEach(s),J=I(E),N=u(E,"TD",{}),g(N).forEach(s),x=I(E),V=u(E,"TD",{}),g(V).forEach(s),M=I(E),B=u(E,"TD",{}),g(B).forEach(s),j=I(E),R=u(E,"TD",{}),g(R).forEach(s),b=I(E),P=u(E,"TD",{class:!0});var re=g(P);Z(A.$$.fragment,re),re.forEach(s),E.forEach(s),v.forEach(s),this.h()},h(){i(n,"class","pl-10 pt-5 text-lg font-light text-right"),i(r,"class","w-60"),i(o,"class","pl-5 pt-5"),i(P,"class","pl-10")},m(O,v){U(O,e,v),l(e,t),l(t,r),l(r,n),l(n,a),l(t,o),$&&$.m(o,null),l(e,d),L&&L.m(e,null),l(e,m),l(e,f),l(f,T),l(f,h),l(f,k),l(f,_),l(f,w),l(f,H),l(f,S),l(f,J),l(f,N),l(f,x),l(f,V),l(f,M),l(f,B),l(f,j),l(f,R),l(f,b),l(f,P),Q(A,P,null),D=!0},p(O,v){O[1]==1?$?($.p(O,v),v&2&&z($,1)):($=Pe(O),$.c(),z($,1),$.m(o,null)):$&&(Ae(),K($,1,1,()=>{$=null}),He()),O[0].config.networking_lan.dhcpServer.enable?L?L.p(O,v):(L=De(O),L.c(),L.m(e,m)):L&&(L.d(1),L=null);const y={};v&4194304&&(y.$$scope={dirty:v,ctx:O}),A.$set(y)},i(O){D||(z($),z(A.$$.fragment,O),D=!0)},o(O){K($),K(A.$$.fragment,O),D=!1},d(O){O&&s(e),$&&$.d(),L&&L.d(),W(A)}}}function ze(c){let e,t,r,n;return e=new ve({props:{open:!0,title:"General",$$slots:{default:[qe]},$$scope:{ctx:c}}}),r=new ve({props:{title:"DHCP Server",$$slots:{default:[Ge]},$$scope:{ctx:c}}}),{c(){Y(e.$$.fragment),t=C(),Y(r.$$.fragment)},l(a){Z(e.$$.fragment,a),t=I(a),Z(r.$$.fragment,a)},m(a,o){Q(e,a,o),U(a,t,o),Q(r,a,o),n=!0},p(a,o){const d={};o&4194307&&(d.$$scope={dirty:o,ctx:a}),e.$set(d);const m={};o&4194335&&(m.$$scope={dirty:o,ctx:a}),r.$set(m)},i(a){n||(z(e.$$.fragment,a),z(r.$$.fragment,a),n=!0)},o(a){K(e.$$.fragment,a),K(r.$$.fragment,a),n=!1},d(a){W(e,a),a&&s(t),W(r,a)}}}function Ke(c){let e,t;return e=new xe({props:{style:"underline",$$slots:{default:[ze]},$$scope:{ctx:c}}}),{c(){Y(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,n){Q(e,r,n),t=!0},p(r,[n]){const a={};n&4194335&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(z(e.$$.fragment,r),t=!0)},o(r){K(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function pe(c){const e=c.split(".");if(e.length<4)throw new Error("Invalid IP address");return e.slice(0,3).join(".")+"."}function oe(c){const e=c.split(".");return e[e.length-1]}function Ye(c,e,t){let r="",n={},a={},o=[],d=[],m=0,f,T;Me.subscribe(b=>{f=b}),we.subscribe(b=>{r=b}),Se.subscribe(b=>{o=b}),$e.subscribe(b=>{d=b}),ae.subscribe(b=>{a=b});function h(b,P,A){for(const D in b)if(typeof b[D]=="object"&&typeof P[D]=="object")h(b[D],P[D],A);else if(b[D]!=P[D]){if(A==1){let $="Value of "+D+" has changed to "+b[D];o=[...o,$]}else if(A==2){let $="Value of "+D+" has changed to "+b[D];d=[...d,$]}}}let k="192.168.123.",_="100",w="250";function H(){console.log(`Save LAN Setting\r
`),o.length!=0&&(o=[]),h(n.config.networking_lan.ipStatic,r.config.networking_lan.ipStatic,1),Se.set(o),a.config.networking_lan.ipStatic=JSON.parse(JSON.stringify(n.config.networking_lan.ipStatic)),ae.set(a);let b=pe(a.config.networking_lan.ipStatic.ip);t(2,k=b),S(),console.log(o)}function S(){console.log(`Save DHCPServer Setting\r
`),d.length!=0&&(d=[]),t(0,n.config.networking_lan.dhcpServer.startIP=`${k}${_}`,n),t(0,n.config.networking_lan.dhcpServer.endIP=`${k}${w}`,n),h(n.config.networking_lan.dhcpServer,r.config.networking_lan.dhcpServer,2),$e.set(d),a.config.networking_lan.dhcpServer=JSON.parse(JSON.stringify(n.config.networking_lan.dhcpServer)),ae.set(a),console.log(a.config.networking_lan),console.log(d)}function J(){console.log("DHCPServer_Check()"),console.log(n.config.networking_lan.dhcpServer.enable),n.config.networking_lan.dhcpServer.enable?t(0,n.config.networking_lan.dhcpServer.enable=1,n):t(0,n.config.networking_lan.dhcpServer.enable=0,n)}async function N(){const b=await fetch(window.location.origin+"/getLANdata",{method:"POST",body:T});b.status==200&&(r=await b.json(),console.log(r),we.set(r),t(0,n=JSON.parse(JSON.stringify(r))),a=JSON.parse(JSON.stringify(r)),ae.set(a),t(2,k=pe(n.config.networking_lan.ipStatic.ip)),t(3,_=oe(n.config.networking_lan.dhcpServer.startIP)),t(4,w=oe(n.config.networking_lan.dhcpServer.endIP)),t(1,m=1))}Oe(()=>{if(console.log("lan sessionid: "),console.log(f),f&&r==""){const P=f.match(/.{1,2}/g).map(A=>parseInt(A,16));T=new Uint8Array(P),N()}else f&&r!=""&&(t(0,n=JSON.parse(JSON.stringify(a))),t(1,m=1),o.length==0&&t(0,n.config.networking_lan.ipStatic=JSON.parse(JSON.stringify(r.config.networking_lan.ipStatic)),n),d.length==0&&t(0,n.config.networking_lan.dhcpServer=JSON.parse(JSON.stringify(r.config.networking_lan.dhcpServer)),n),t(2,k=pe(n.config.networking_lan.ipStatic.ip)),t(3,_=oe(n.config.networking_lan.dhcpServer.startIP)),t(4,w=oe(n.config.networking_lan.dhcpServer.endIP)))});function x(){n.config.networking_lan.ipStatic.ip=this.value,t(0,n)}function V(){n.config.networking_lan.ipStatic.netmask=this.value,t(0,n)}function M(b){c.$$.not_equal(n.config.networking_lan.dhcpServer.enable,b)&&(n.config.networking_lan.dhcpServer.enable=b,t(0,n))}function B(){_=se(this.value),t(3,_)}function j(){w=se(this.value),t(4,w)}function R(){n.config.networking_lan.dhcpServer.lease=this.value,t(0,n)}return[n,m,k,_,w,H,S,J,x,V,M,B,j,R]}class at extends Ie{constructor(e){super(),Je(this,e,Ye,Ke,Le,{})}}export{at as default};
