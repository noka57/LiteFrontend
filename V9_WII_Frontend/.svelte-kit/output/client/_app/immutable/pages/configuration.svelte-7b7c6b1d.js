import{S as Y,i as Z,s as tt,l as u,r as R,a as B,x as K,m as p,n as g,u as F,h as i,c as D,y as V,p as h,b as I,I as r,z as H,J as et,f as M,t as Q,C as W}from"../chunks/index-3c8a32e2.js";import{s as at}from"../chunks/Indicator.svelte_svelte_type_style_lang-cfcdb687.js";import{B as X}from"../chunks/Button-4ab8781d.js";import"../chunks/index-10bc815a.js";function ot(m){let e;return{c(){e=R("Download")},l(t){e=F(t,"Download")},m(t,n){I(t,e,n)},d(t){t&&i(e)}}}function rt(m){let e;return{c(){e=R("Upload")},l(t){e=F(t,"Upload")},m(t,n){I(t,e,n)},d(t){t&&i(e)}}}function nt(m){let e,t,n,c,E,v,y,a,b,s,o,d,T,O,C,_,P,x,$,A,S,L;return a=new X({props:{$$slots:{default:[ot]},$$scope:{ctx:m}}}),a.$on("click",m[2]),$=new X({props:{$$slots:{default:[rt]},$$scope:{ctx:m}}}),$.$on("click",m[1]),{c(){e=u("table"),t=u("tr"),n=u("td"),c=u("p"),E=R("Backup Current Configuration"),v=B(),y=u("td"),K(a.$$.fragment),b=B(),s=u("tr"),o=u("td"),d=u("p"),T=R("Restore Configuration"),O=B(),C=u("td"),_=u("input"),P=B(),x=u("td"),K($.$$.fragment),this.h()},l(l){e=p(l,"TABLE",{});var f=g(e);t=p(f,"TR",{});var w=g(t);n=p(w,"TD",{class:!0});var U=g(n);c=p(U,"P",{class:!0});var J=g(c);E=F(J,"Backup Current Configuration"),J.forEach(i),U.forEach(i),v=D(w),y=p(w,"TD",{class:!0});var N=g(y);V(a.$$.fragment,N),N.forEach(i),w.forEach(i),b=D(f),s=p(f,"TR",{});var k=g(s);o=p(k,"TD",{class:!0});var j=g(o);d=p(j,"P",{class:!0});var q=g(d);T=F(q,"Restore Configuration"),q.forEach(i),j.forEach(i),O=D(k),C=p(k,"TD",{class:!0});var z=g(C);_=p(z,"INPUT",{type:!0,id:!0,class:!0}),z.forEach(i),P=D(k),x=p(k,"TD",{class:!0});var G=g(x);V($.$$.fragment,G),G.forEach(i),k.forEach(i),f.forEach(i),this.h()},h(){h(c,"class","pl-10 pt-5 text-lg font-light text-right"),h(n,"class","w-85"),h(y,"class","pl-5 pt-5"),h(d,"class","pl-10 pt-5 text-lg font-light text-right"),h(o,"class","w-85"),h(_,"type","file"),h(_,"id","configUpload"),h(_,"class","block w-full disabled:cursor-not-allowed disabled:opacity-50 focus:border-blue-500 focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500 bg-gray-50 text-gray-900 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 border-gray-300 dark:border-gray-600 p-2.5 text-sm rounded-lg border !p-0 dark:text-gray-400"),h(C,"class","pl-5 pt-5"),h(x,"class","pl-5 pt-5")},m(l,f){I(l,e,f),r(e,t),r(t,n),r(n,c),r(c,E),r(t,v),r(t,y),H(a,y,null),r(e,b),r(e,s),r(s,o),r(o,d),r(d,T),r(s,O),r(s,C),r(C,_),r(s,P),r(s,x),H($,x,null),A=!0,S||(L=et(_,"change",m[0]),S=!0)},p(l,[f]){const w={};f&128&&(w.$$scope={dirty:f,ctx:l}),a.$set(w);const U={};f&128&&(U.$$scope={dirty:f,ctx:l}),$.$set(U)},i(l){A||(M(a.$$.fragment,l),M($.$$.fragment,l),A=!0)},o(l){Q(a.$$.fragment,l),Q($.$$.fragment,l),A=!1},d(l){l&&i(e),W(a),W($),S=!1,L()}}}function st(m){let e=null,t,n,c;at.subscribe(a=>{t=a});async function E(a){const b=a.target.files[0];if(b){if(e=b,t){const d=t.match(/.{1,2}/g).map(T=>parseInt(T,16));c=new Uint8Array(d)}const s=new FileReader;s.onload=o=>{const d=new Uint8Array(o.target.result);n=new Uint8Array(d.length+c.length),n.set(c,0),n.set(d,c.length)},s.readAsArrayBuffer(b)}}async function v(){e&&(await fetch(window.location.origin+"/uploadConfig",{method:"POST",body:n,headers:{"Content-Type":"application/octet-stream"}})).status==200&&console.log("200 OK")}async function y(){try{const a=await fetch(window.location.origin+"/downloadConfig",{method:"POST",body:JSON.stringify({sessionid:t})});if(a.status==200){const b=await a.blob(),s="download.config",o=document.createElement("a");o.href=URL.createObjectURL(b),o.download=s,o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}}catch(a){console.error("Error exporting file:",a)}}return[E,v,y]}class ft extends Y{constructor(e){super(),Z(this,e,st,nt,tt,{})}}export{ft as default};
